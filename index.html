<!doctype html>
<html>
    <head>
	<title>Visual-Soundilizer</title>
	<link rel="stylesheet" type="text/css" href=stylesheet.css>
	<meta charset= "utf-8">
	
	<!-- Evtl ist die doppelte resonance implimierung unnötig -->
	 
	      <script src="https://cdn.jsdelivr.net/npm/resonance-audio/build/resonance-audio.min.js"></script>

    <script>
       


        var x = 0.0;
        var y = 0.0;
        var z = 0.0;

       
        let audioContext = new AudioContext();

        // first-order Ambisonic Resonance Audio scene 
        let resonanceAudioScene = new ResonanceAudio(audioContext);

        // Connect the scene’s binaural output to stereo out.
        resonanceAudioScene.output.connect(audioContext.destination);

		//Raum Größe und Material
        let roomDimensions = {
            width: 3.1,
            height: 2.5,
            depth: 3.4,
        };

       
			let roomMaterials = {
            
            left: 'metal',
            right: 'curtain-heavy',
            front: 'curtain-heavy',
            back: 'curtain-heavy',
            // Room floor
            down: 'grass',
            // Room ceiling
            up: 'grass',
        };

        
        resonanceAudioScene.setRoomProperties(roomDimensions, roomMaterials);

		
        //Cat     
        let audioElement = document.createElement('audio');
        audioElement.src = 'Cat.wav';
        audioElement.loop = true;
        let audioElementSource = audioContext.createMediaElementSource(audioElement);
        let source = resonanceAudioScene.createSource();
        audioElementSource.connect(source.input);
        source.setPosition(x,y,z);
        

        //  Bird		Funktioniert
        let audioElement2 = document.createElement('audio');
        audioElement2.src = 'bird.wav';
        audioElement2.loop = true;
        let audioElementSource2 = audioContext.createMediaElementSource(audioElement2);
        let source2 = resonanceAudioScene.createSource();
        audioElementSource2.connect(source2.input);
        source2.setPosition(x,y,z);
        


        // Rain 					Funktioniert nicht?
        let audioElement3 = document.createElement('audio');
        audioElement3.src = 'rain.wav';
        audioElement3.loop = true;
        let audioElementSource3 = audioContext.createMediaElementSource(audioElement3);
        let source3 = resonanceAudioScene.createSource();
        audioElementSource3.connect(source3.input);
        source3.setPosition(x,y,z);
        

     
        audioElement2.play();

   
        

    </script>
	 
	   
		 
	
	</head>
	<!-- Page Elements	-->
		<body>
		
		<!-- Noisemaker	-->
		<div>
			<div>
				<button class="Noisemaker"type="button">Pick noise</button> 
			</div>
		<!--  -->
			<div>
				<button class="Noisemaker" type="button">Pick noise</button> 
			</div>
		 <!--  -->
			<div>
				<button class="Noisemaker" type="button">Pick noise</button> 
			</div>
		 <!--  -->
			<div>
				<button class="Noisemaker" type="button">Add noise</button>  
			</div>
		 </div>
		 
		 
		 
		  <!-- Playbutton	-->
		 <button id="playbtn" onclick="playOrPauseSong()"  class="button"> <img src="Pictures/pause.png"/> </button>
		 
		 
		 
	


		 

		 
		 
		 
		 <!-- Room for 3D Audio		-->
		 <div class= "room">
			<img src="volume.svg" id="sourceAIcon" hidden>  
			<img src="person.svg" id="listenerIcon" hidden>
				<canvas id="canvas"></canvas>
		
				<script src="audio3d.js"></script>
				 <script src="https://cdn.jsdelivr.net/npm/resonance-audio/build/resonance-audio.min.js"></script>		<!-- google resonance audio sdk	-->
				<script src="canvasControl.js"></script>
		 </div>	
		 
		 
		 <h1> Equalizer </h1>
		 
			
		 
		
		 

		 <!-- Equalizer	-->
		 <div class="Equalizer">
		 
			 
			 <div> Volume
                <input type="range" id="sourceHeightSlider" class="slider" min="0" max="100" value="10">
            </div>
			<div> Gain
                <input type="range" id="sourceHeightSlider" class="slider" min="0" max="100" value="0">
            </div>
			<div> Bass
                <input type="range" id="sourceHeightSlider" class="slider" min="0" max="100" value="0">
            </div>
			<div> Middle
                <input type="range" id="sourceHeightSlider" class="slider" min="0" max="100" value="0">
            </div>
			<div> Treble
                <input type="range" id="sourceHeightSlider" class="slider" min="0" max="100" value="0">
            </div>
			<div> Reverb
                <input type="range" id="sourceHeightSlider" class="slider" min="0" max="100" value="0">
            </div>
		 </div>
			
		
		 


		 
		 
		</body>
		
		
</html>